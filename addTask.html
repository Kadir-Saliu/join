<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Join Add task</title>
    <link rel="icon" type="image/x-icon" href="./assets/icon/fav-icon.svg" />
    <link rel="stylesheet" href="./styles/addTask.css" />
    <link rel="stylesheet" href="./styles/header.css" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="./styles/navigation.css" />
    <link rel="stylesheet" href="./styles/addTaskBoard.css" />
    <link rel="stylesheet" href="./styles/accountNav.css" />
  </head>
  <body onload="addTaskInit()">
    <div template="navigation.html"></div>
    <div template="accountNav.html" class="account-nav-render-div hide"></div>

    <header template="header.html"></header>

    <main>
      <h1>Add Task</h1>
      <div class="add-task-form">
        <div class="add-task-text-div">
          <div class="span-div">
            <p>Title</p>
            <span>*</span>
          </div>
          <input type="text" placeholder="Enter a title" id="task-title" oninput="checkRequiredInput('none', false)"/>
          <p class="missing-value hide" id="missing-title-info">This field is required</p>
          <p>Description</p>
          <textarea name="" id="task-description" placeholder="Enter a Description"></textarea>
          <div class="span-div">
            <p>Due date</p>
            <span>*</span>
          </div>
          <input type="date" id="task-date" oninput="checkRequiredInput('none', false)"/>
          <p class="missing-value hide" id="missing-date-info">This field is required</p>
        </div>
        <div class="add-task-form-divider"></div>
        <div class="add-task-select-div">
          <p>Priority</p>
          <div class="add-task-importance-selection">
            <button class="priority-button" onclick="setPriority('urgent', this)">
              Urgent<img src="./assets/icon/red-arrows.svg" alt="" />
            </button>
            <button class="priority-button" onclick="setPriority('medium', this)">
              Medium <img src="./assets/icon/orange-same.svg" alt="" />
            </button>
            <button class="priority-button" onclick="setPriority('low', this)">
              Low <img src="./assets/icon/green-arrows.svg" alt="" />
            </button>
          </div>
          <p>Assigned to</p>
          <div id="drop-down-users-input-div">
            <input
              id="drop-down-users-input"
              class="drop-down-selection"
              placeholder="Select Contacts to assign"
              onclick="dropDownUsers('drop-down-users', 'render-selected-users', 'drop-down-users-input-img')"
              oninput="filterUsers('drop-down-users', 'render-selected-users')"
            />
            <div id="drop-down-users-input-img-div"  onclick="dropDownUsers('drop-down-users', 'render-selected-users', 'drop-down-users-input-img')">
              <img src="./assets/imgs/arrow_down.png" id="drop-down-users-input-img" alt="">
            </div>
          </div>
          <div id="drop-down-users" class="hide"></div>
          <div id="render-selected-users"></div>
          <div class="span-div">
            <p>Category</p>
            <span>*</span>
          </div>
          <button class="drop-down-selection" id="category-button" onclick="popUpDropDownCategory('category-button-img'); checkRequiredInput('none', false)">
            Select task category
            <img src="./assets/imgs/arrow_down.png" id="category-button-img" alt="">
          </button>
          <div id="drop-down-category" class="hide">
            <button onclick="setCategory('Technical Task', 'category-button', 'drop-down-category')">Technical Task</button>
            <button onclick="setCategory('User Story', 'category-button', 'drop-down-category')">User Story</button>
          </div>
          <p class="missing-value hide" id="missing-category-info">This field is required</p>
          <p>Subtasks</p>
          <div class="subtask-div">
            <input type="text" name="" id="subtask" placeholder="Add new subtask" />
            <button id="subtask-button" onclick="addSubtask()">+</button>
          </div>
          <div id="subtask-render-div"></div>
        </div>
      </div>
      <div class="bottom-section">
        <div class="span-div">
          <span>*</span>
          <p>This field is required</p>
        </div>
        <div>
          <button id="clear-task-button" onclick="clearTask()">Clear X</button>
          <button id="create-task-button">Create Task</button>
        </div>
      </div>
    </main>

    <div id="board-overlay-transparent" class="overlay transparent hide" onclick="popUpAccNav()"></div>
    <img src="assets/icon/Added-to-Board.png" class="added-animation hide" id="added-userfeedback" />

    <script src="./scripts/template.js" defer></script>
    <script src="./scripts/addTask.js" defer></script>
    <script src="script.js"></script>
  </body>
</html>
